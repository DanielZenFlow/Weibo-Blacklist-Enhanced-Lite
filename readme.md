# Weibo Blacklist Enhanced Lite

è½»é‡ç‰ˆå¾®åšé»‘åå•å¢å¼ºå·¥å…· - ä¸“æ³¨äºé»‘åå•åŠŸèƒ½çš„æ²¹çŒ´è„šæœ¬

---

## é¡¹ç›®ç®€ä»‹

## **Weibo Blacklist Enhanced Lite** æ˜¯ä¸€ä¸ªä¸“æ³¨äºé»‘åå•åŠŸèƒ½çš„è½»é‡ç‰ˆå¾®åšå¢å¼ºå·¥å…·ã€‚é€šè¿‡å…¨æ¥å£åŠ«æŒæŠ€æœ¯ï¼Œç¡®ä¿æ‚¨åœ¨å¾®åšçš„ä»»ä½•åœ°æ–¹éƒ½çœ‹ä¸åˆ°é»‘åå•ç”¨æˆ·çš„ä»»ä½•å†…å®¹ï¼ŒåŒ…æ‹¬åŸåˆ›å¾®åšã€è½¬å‘ã€è¯„è®ºç­‰ã€‚

## æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ç±»åˆ«       | è¯¦ç»†è¯´æ˜                                                                                                                                                     |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **é»‘åå•åŒæ­¥** | â€¢ é¦–æ¬¡è¿è¡Œï¼šå¯é€‰æ‹©å…¨é‡åŒæ­¥ï¼ˆçº¦ 300ms èŠ‚æµï¼Œè‡ªåŠ¨é‡è¯• 418 é”™è¯¯ï¼‰<br>â€¢ æ—¥å¸¸ä½¿ç”¨ï¼šå¢é‡åŒæ­¥ï¼ˆä»…ç¬¬ä¸€é¡µï¼Œçº¦ 2.5KBï¼‰<br>â€¢ ä¸‰ç§åŒæ­¥æ¨¡å¼ï¼šå¢é‡æ›´æ–°ã€äº”é¡µåŒæ­¥ã€å…¨é‡åŒæ­¥ |
| **å…¨æ¥å£è¿‡æ»¤** | â€¢ Fetch/XHR/WebSocket å…¨è¦†ç›–æ‹¦æˆª<br>â€¢ å®æ—¶è¿‡æ»¤å¾®åšæµã€è¯„è®ºåŒºã€è½¬å‘åˆ—è¡¨<br>â€¢ MutationObserver ç›‘å¬åŠ¨æ€å†…å®¹                                                    |
| **æ•°æ®æŒä¹…åŒ–** | â€¢ UID åˆ—è¡¨å­˜å‚¨åœ¨æ²¹çŒ´æœ¬åœ°å­˜å‚¨<br>â€¢ SPA è·¯ç”±è‡ªåŠ¨é‡è¿<br>â€¢ æ”¯æŒé»‘åå•å¢åˆ æ“ä½œå®æ—¶åŒæ­¥                                                                           |
| **Star æé†’**  | â€¢ æ—¶é—´é—´éš”ç­–ç•¥ï¼šé¦–æ¬¡å®‰è£… â†’7 å¤© â†’30 å¤© â†’90 å¤©<br>â€¢ æ™ºèƒ½å¼¹çª—æ‹¦æˆªå¤„ç†<br>â€¢ ç”¨æˆ·å¯æ‰‹åŠ¨å…³é—­æé†’                                                                   |

---

## å®‰è£…æ–¹æ³•

1. åœ¨æµè§ˆå™¨ä¸­å®‰è£… **[Tampermonkey](https://www.tampermonkey.net/)**
2. è®¿é—® [Greasyfork](https://greasyfork.org/) æœç´¢ "Weibo Blacklist Enhanced Lite" å¹¶å®‰è£…
3. æˆ–è€…è®¿é—® [GitHub Releases](https://github.com/DanielZenFlow/Weibo-Blacklist-Enhanced-Lite/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
4. åˆ·æ–°å¾®åšé¡µé¢å³å¯ä½¿ç”¨

---

## ä½¿ç”¨è¯´æ˜

### æ²¹çŒ´èœå•å‘½ä»¤

| å‘½ä»¤               | åŠŸèƒ½                 | ä½¿ç”¨åœºæ™¯           |
| ------------------ | -------------------- | ------------------ |
| **ğŸ”„ æ›´æ–°é»‘åå•**  | å¢é‡åŒæ­¥ï¼ˆç¬¬ä¸€é¡µï¼‰   | æ—¥å¸¸ä½¿ç”¨           |
| **ğŸ“„ åŒæ­¥å‰äº”é¡µ**  | è·å–å‰äº”é¡µæ•°æ®       | é¢‘ç¹æ‹‰é»‘æ—¶ä½¿ç”¨     |
| **ğŸ”„ å…¨é‡åŒæ­¥**    | å®Œæ•´é‡æ–°æ‰«æ         | æ–°è´¦å·æˆ–å¤§é‡å˜æ›´å |
| **â­ ç»™æˆ‘ä»¬ Star** | æ‰“å¼€ GitHub é¡¹ç›®é¡µé¢ | æ”¯æŒé¡¹ç›®å‘å±•       |

### å¯è°ƒæ•´å‚æ•°

| å˜é‡          | é»˜è®¤å€¼ | ç”¨é€”                  |
| ------------- | ------ | --------------------- |
| `THROTTLE_MS` | `300`  | API è°ƒç”¨é—´éš”ï¼ˆæ¯«ç§’ï¼‰  |
| `MAX_RETRIES` | `3`    | è¿ç»­ 418 é”™è¯¯é‡è¯•ä¸Šé™ |

---

## å¸¸è§é—®é¢˜

<details>
<summary>ä¸ºä»€ä¹ˆèŠ‚æµé—´éš”è®¾ç½®ä¸º300msï¼Ÿ</summary>

æµ‹è¯•æ˜¾ç¤ºï¼Œ20-30 ä¸ªå¿«é€Ÿè¿ç»­è¯·æ±‚ç»å¸¸è§¦å‘å¾®åšçš„åçˆ¬è™«æœºåˆ¶ï¼Œè¿”å› HTTP 418 é”™è¯¯ã€‚
300ms çš„å»¶è¿Ÿå¯ä»¥æœ‰æ•ˆé¿å…è¿™äº›é™åˆ¶ã€‚å¦‚æœä»ç„¶é‡åˆ° 418 é”™è¯¯ï¼Œå¯ä»¥å¢åŠ è¿™ä¸ªå€¼ã€‚

</details>

<details>
<summary>æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ</summary>

é»‘åå•æ•°æ®å­˜å‚¨åœ¨æ²¹çŒ´è„šæœ¬çš„æœ¬åœ°å­˜å‚¨ä¸­ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚
æµè§ˆå™¨é‡è£…åæ•°æ®ä¼šä¸¢å¤±ï¼Œå»ºè®®å®šæœŸå¤‡ä»½æ²¹çŒ´è®¾ç½®ã€‚

</details>

---

## æŠ€æœ¯ç‰¹ç‚¹

- **è½»é‡åŒ–è®¾è®¡**ï¼šä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½ï¼Œå‡å°‘å†²çªé£é™©
- **å…¨æ¥å£è¦†ç›–**ï¼šFetch/XHR/WebSocket ä¸‰é‡æ‹¦æˆª
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé˜²æŠ– MutationObserverï¼Œæ™ºèƒ½èŠ‚æµ
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é‡è¯•æœºåˆ¶å’Œé™çº§ç­–ç•¥
- **ç”¨æˆ·å‹å¥½**ï¼šç®€æ´çš„èœå•è®¾è®¡ï¼Œæ™ºèƒ½æé†’ç³»ç»Ÿ

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Pull Request å’Œ Issue æŠ¥å‘Šã€‚  
è¯·ç¡®ä¿ä»£ç é€šè¿‡ ESLint/Prettier æ£€æŸ¥ï¼Œå¹¶åŒ…å«ç®€æ´çš„æµ‹è¯•è¯´æ˜ã€‚

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT License** è®¸å¯è¯ã€‚è¯¦è§ `LICENSE` æ–‡ä»¶ã€‚

---

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä½¿ç”¨å’Œæ”¯æŒæœ¬é¡¹ç›®çš„ç”¨æˆ·ï¼å¦‚æœè¿™ä¸ªå·¥å…·å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼

# Weibo Blacklist Enhanced Lite

Lightweight Weibo blacklist enhancement tool - Tampermonkey userscript focused on blacklist functionality

---

## Project Summary

**Weibo Blacklist Enhanced Lite** is a lightweight version of Weibo enhancement tool that focuses solely on blacklist functionality. Through comprehensive API interception, it ensures that blacklisted users' content is completely hidden from your Weibo experience, including original posts, reposts, and comments.

---

## Key Features

| Category                      | Details                                                                                                                                                                                                     |
| ----------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Blacklist Synchronization** | â€¢ First run: optional full sync (~300ms throttling, auto-retry on HTTP 418)<br>â€¢ Daily use: incremental sync (first page only, ~2.5KB)<br>â€¢ Three sync modes: incremental update, five-page sync, full sync |
| **Complete API Filtering**    | â€¢ Full coverage of Fetch/XHR/WebSocket interception<br>â€¢ Real-time filtering of timeline, comments, repost lists<br>â€¢ MutationObserver for dynamic content monitoring                                       |
| **Data Persistence**          | â€¢ UID list stored in Tampermonkey local storage<br>â€¢ Auto-reconnection on SPA navigation<br>â€¢ Real-time sync of blacklist add/remove operations                                                             |
| **Star Reminder System**      | â€¢ Time-interval strategy: first install â†’ 7 days â†’ 30 days â†’ 90 days<br>â€¢ Smart popup blocking handling<br>â€¢ User can manually disable reminders                                                            |

---

## Installation

1. Install **[Tampermonkey](https://www.tampermonkey.net/)** in your browser
2. Visit [Greasyfork](https://greasyfork.org/) and search for "Weibo Blacklist Enhanced Lite"
3. Or visit [GitHub Releases](https://github.com/DanielZenFlow/Weibo-Blacklist-Enhanced-Lite/releases) to download the latest version
4. Refresh your Weibo tabs to activate the script

---

## Usage

### Tampermonkey Menu Commands

| Command                      | Function                      | Use Case                           |
| ---------------------------- | ----------------------------- | ---------------------------------- |
| **ğŸ”„ Update Blacklist**      | Incremental sync (first page) | Daily routine                      |
| **ğŸ“„ Sync First Five Pages** | Fetch five pages of data      | When frequent blocking is expected |
| **ğŸ”„ Full Blacklist Sync**   | Complete rescan               | New account or major changes       |
| **â­ Give us Star**          | Open GitHub project page      | Support project development        |

### Adjustable Parameters

| Variable      | Default | Purpose                          |
| ------------- | ------- | -------------------------------- |
| `THROTTLE_MS` | `300`   | API call interval (milliseconds) |
| `MAX_RETRIES` | `3`     | Consecutive HTTP 418 retry limit |

---

## FAQ

<details>
<summary>Why is the throttling interval set to 300ms?</summary>

Testing shows that 20-30 rapid consecutive requests often trigger Weibo's anti-bot mechanisms, returning HTTP 418 errors.
A 300ms delay effectively eliminates these blocks. Increase this value if you continue to receive 418 errors.

</details>

<details>
<summary>Where is the data stored?</summary>

Blacklist data is stored in Tampermonkey's local storage and is never uploaded to any server.
Data will be lost if you reinstall your browser, so regular backup of Tampermonkey settings is recommended.

</details>

---

## Technical Features

- **Lightweight Design**: Focus on core functionality, reduced conflict risk
- **Complete API Coverage**: Triple interception of Fetch/XHR/WebSocket
- **Performance Optimized**: Debounced MutationObserver, intelligent throttling
- **Error Handling**: Comprehensive retry mechanism and fallback strategies
- **User Friendly**: Clean menu design, intelligent reminder system

---

## Contributing

Pull requests and issue reports are welcome.  
Please ensure code passes ESLint/Prettier checks and include concise test notes.

---

## License

Released under the **MIT License**. See `LICENSE` for details.

---

## Acknowledgments

Thanks to all users who use and support this project! If this tool helps you, please consider giving us a â­ Star!
